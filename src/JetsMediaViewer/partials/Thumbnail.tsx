import { JMVSlideImageType, type JMVSlideType } from '../types';

interface IJMVThumbnailProps {
  thumb: string;
  description: string;
  type: JMVSlideType;
  style?: {
    width?: number;
    height?: number;
  };
}

export const JMVThumbnail: React.FC<IJMVThumbnailProps> = ({
  thumb,
  description,
  type,
  style,
}) => {
  return (
    <div style={{ ...styles.thumb, ...style }}>
      {type === JMVSlideImageType.PANO && <JMVPanoIcon />}
      <img src={thumb} alt={description} style={styles.thumbImage} />
    </div>
  );
};

const JMVPanoIcon: React.FC = () => {
  return (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 41 22"
      style={styles.panoIcon}
    >
      <path
        d="M33.52,8.39c3.1,1,5,2.24,5,3.59,0,2.16-4.92,4-11.82,4.71v2.14C35,18,41,15.49,41,12.55c0-2.06-2.91-3.89-7.48-5.1ZM14.77,7.52a2.58,2.58,0,0,0-1.52-1,2.67,2.67,0,0,0,1.14-1,2.49,2.49,0,0,0,.38-1.34,2.84,2.84,0,0,0-.25-1.18l-.15-.3A2.8,2.8,0,0,0,13.2,1.67a3.46,3.46,0,0,0-1.67-.4A3.19,3.19,0,0,0,9.34,2a3.23,3.23,0,0,0-.92,1.38,4.4,4.4,0,0,0-.22.81l1,.19.33.06,0-.18A2.62,2.62,0,0,1,10.15,3l.09-.1a1.82,1.82,0,0,1,1.32-.51,1.87,1.87,0,0,1,.94.23,1.44,1.44,0,0,1,.37.28,1.5,1.5,0,0,1,.3.4,1.79,1.79,0,0,1,.2.88,1.61,1.61,0,0,1-.69,1.44,2.73,2.73,0,0,1-1.78.45l-.15,1.23a4,4,0,0,1,1-.16,2.07,2.07,0,0,1,1.55.63,2.19,2.19,0,0,1,.61,1.6,2.37,2.37,0,0,1-.66,1.7,2.2,2.2,0,0,1-1.62.68,1.9,1.9,0,0,1-1.37-.53,3.11,3.11,0,0,1-.79-1.72l-1.36.19A3.46,3.46,0,0,0,9.16,12a3.42,3.42,0,0,0,2.42.9,3.65,3.65,0,0,0,2.68-1,3.43,3.43,0,0,0,1.05-2.53A3,3,0,0,0,14.77,7.52ZM23,6.36a3,3,0,0,0-2.31-1A3.11,3.11,0,0,0,18,6.85a7.42,7.42,0,0,1,.39-2.64,3.1,3.1,0,0,1,1-1.41,1.33,1.33,0,0,1,.38-.23h0a1.86,1.86,0,0,1,.75-.15,1.74,1.74,0,0,1,1,.3,2,2,0,0,1,.34.3,2.59,2.59,0,0,1,.52,1.2l1.35-.11A3.78,3.78,0,0,0,23.39,3a2.71,2.71,0,0,0-.5-.76h0L22.71,2a3.09,3.09,0,0,0-2.14-.75,3.34,3.34,0,0,0-2.55,1,2.1,2.1,0,0,0-.24.27h0a7.86,7.86,0,0,0-1.17,4.8,6.68,6.68,0,0,0,1.07,4.25,3.45,3.45,0,0,0,2.77,1.29,3.25,3.25,0,0,0,3-1.9,4.54,4.54,0,0,0,.45-2,3.77,3.77,0,0,0-1-2.67m-.42,2.76a2.91,2.91,0,0,1-.62,2,1.91,1.91,0,0,1-1.49.72,2.05,2.05,0,0,1-1.12-.35,2.23,2.23,0,0,1-.84-1A3.31,3.31,0,0,1,18.16,9a2.51,2.51,0,0,1,.65-1.79,2.07,2.07,0,0,1,1.56-.68,2,2,0,0,1,1.54.68,2.7,2.7,0,0,1,.62,1.87m9.86-3.65a7.71,7.71,0,0,0-.18-1.07A6.13,6.13,0,0,0,32,3.57a5,5,0,0,0-.42-.87,3,3,0,0,0-1.11-1.06,3.16,3.16,0,0,0-1.56-.37,3,3,0,0,0-2,.66,4.18,4.18,0,0,0-.5.53,4.18,4.18,0,0,0-.53.93c-.06.15-.12.3-.17.45a10.78,10.78,0,0,0-.4,3.26,7.73,7.73,0,0,0,1.09,4.65,3.3,3.3,0,0,0,4.52.51,4,4,0,0,0,1.19-1.91,10.67,10.67,0,0,0,.4-3.25,15.93,15.93,0,0,0-.07-1.63M31.08,7.11a7.3,7.3,0,0,1-.64,3.74,1.79,1.79,0,0,1-3.15,0,7.43,7.43,0,0,1-.64-3.75,9.48,9.48,0,0,1,.47-3.43,2.93,2.93,0,0,1,.23-.43,2,2,0,0,1,.58-.57,1.69,1.69,0,0,1,.92-.25,1.79,1.79,0,0,1,1.41.69c.07.08.12.16.18.24a3.64,3.64,0,0,1,.49,1.5,14.13,14.13,0,0,1,.15,2.25M34.9,1.43a1.43,1.43,0,0,0-.4-1,1.31,1.31,0,0,0-1-.42,1.29,1.29,0,0,0-1,.42,1.32,1.32,0,0,0-.4,1,1.44,1.44,0,0,0,.4,1,1.32,1.32,0,0,0,1,.42,1.28,1.28,0,0,0,1-.42,1.41,1.41,0,0,0,.4-1m-.56,0a.84.84,0,0,1-.23.6.77.77,0,0,1-.56.25A.73.73,0,0,1,33,2a.89.89,0,0,1-.24-.62A.78.78,0,0,1,33,.82a.73.73,0,0,1,.56-.25.75.75,0,0,1,.56.25.84.84,0,0,1,.23.6M21.17,17H20.5c-10,0-18-2.25-18-5,0-1.47,2.26-2.86,5.87-3.84v-.9C3.28,8.44,0,10.37,0,12.55c0,3.64,9.18,6.59,20.5,6.59h.67V22l3.9-4-3.9-4Z"
        fill="#fff"
      />
    </svg>
  );
};

const styles = {
  thumb: {
    background: '#ccc',
    display: 'flex',
    alignItems: 'center',
    justifyContent: 'center',
    cursor: 'pointer',
    opacity: 0.5,
    transition: 'opacity 0.3s',
  },
  thumbImage: {
    width: '100%',
    height: '100%',
    objectFit: 'cover' as const,
  },
  panoIcon: {
    position: 'absolute' as const,
    top: 0,
    right: 10,
    width: 48,
    height: 48,
  },
};
